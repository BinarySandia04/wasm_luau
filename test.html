<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Luau test!</title>
  <style>
  #error-output {
    color: red;
  }
  </style>
  <script>
    var LuauModule = {
      onRuntimeInitialized: function(){
        console.log("Successfully loaded Luau lib");
      },
    }
        

    document.addEventListener("DOMContentLoaded", function () {
      // Your code goes here
      document.getElementById("compile-button").addEventListener("click", function(){
        document.getElementById("code-output").innerText = "";
        document.getElementById("error-output").innerText = "";
        let code = document.getElementById("code-input").value;
        Module.exec(code);
      });
    });

    function luauPrint(text){
      document.getElementById("code-output").innerText += text;
    }

    function luauRead(text){
      return prompt(text);
    }

    function luauError(text){
      document.getElementById("error-output").innerText += text;
    }

  </script>
  <script type="text/javascript" src="out/wasm_luau.js"></script>
</head>
<body>
<h1>WASM Luau VM</h1>
<p>There are only two exposed methods</p>
<ul>
<li><pre>print(...)</pre>
<li><pre>read(...)</pre>
</ul>
<textarea id="code-input" rows="20" cols="100"></textarea><br>
<button id="compile-button">Run</button>
<p>Output:</p>
<pre id="code-output"></pre>
<pre id="error-output"></pre>
</body>
</html>
